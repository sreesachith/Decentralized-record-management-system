{"ast":null,"code":"var _jsxFileName = \"/home/aditi/Downloads/capstone/Decentralized-record-management-system/storage using ipfs with login/frontend/src/components/FileUpload.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nfunction FileUpload() {\n  const [file, setFile] = useState(null);\n  const [username, setUsername] = useState('');\n  const [message, setMessage] = useState('');\n  const onFileChange = e => {\n    setFile(e.target.files[0]);\n  };\n  const onUsernameChange = e => {\n    setUsername(e.target.value);\n  };\n  const onFileUpload = () => {\n    if (!file) {\n      setMessage('Please select a file.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('file', file);\n    const storedusername = localStorage.getItem(\"username\");\n    if (storedusername) {\n      console.log(\"nostored username\");\n    } else {\n      console.log(\"got username \", username);\n    }\n    formData.append('username', storedusername);\n    setMessage(''); // Reset message before making the request\n\n    axios.post('http://localhost:5000/api/upload', formData).then(response => {\n      console.log('File uploaded successfully:', response.data);\n      setMessage('File uploaded successfully!');\n    }).catch(error => {\n      console.error('Error uploading file:', error);\n      setMessage('Error uploading file. Please try again.');\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: '500px',\n      margin: '20px auto',\n      padding: '20px',\n      backgroundColor: '#f9f9f9',\n      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\n      borderRadius: '8px',\n      fontFamily: 'Arial, sans-serif'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      textAlign: 'center',\n      marginBottom: '20px',\n      color: '#333'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"Upload File\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: onFileChange,\n    style: {\n      width: '100%',\n      padding: '10px',\n      border: '1px solid #ddd',\n      borderRadius: '4px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onFileUpload,\n    style: {\n      width: '100%',\n      padding: '10px',\n      backgroundColor: '#007bff',\n      color: '#fff',\n      border: 'none',\n      borderRadius: '4px',\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \"Upload\"), message && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '15px',\n      padding: '10px',\n      backgroundColor: message.includes('success') ? '#28a745' : '#dc3545',\n      color: '#fff',\n      borderRadius: '4px',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, message));\n}\nexport default FileUpload;","map":{"version":3,"names":["React","useState","axios","FileUpload","file","setFile","username","setUsername","message","setMessage","onFileChange","e","target","files","onUsernameChange","value","onFileUpload","formData","FormData","append","storedusername","localStorage","getItem","console","log","post","then","response","data","catch","error","createElement","style","maxWidth","margin","padding","backgroundColor","boxShadow","borderRadius","fontFamily","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","marginBottom","color","type","onChange","width","border","onClick","cursor","marginTop","includes"],"sources":["/home/aditi/Downloads/capstone/Decentralized-record-management-system/storage using ipfs with login/frontend/src/components/FileUpload.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction FileUpload() {\r\n  const [file, setFile] = useState(null);\r\n  const [username, setUsername] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const onFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const onUsernameChange = (e) => {\r\n    setUsername(e.target.value);\r\n  };\r\n\r\n  const onFileUpload = () => {\r\n    if (!file) {\r\n      setMessage('Please select a file.');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    const storedusername = localStorage.getItem(\"username\");\r\n    if (storedusername){\r\n      console.log(\"nostored username\");\r\n    }\r\n    else {\r\n      console.log(\"got username \", username);\r\n    }\r\n\r\n    formData.append('username', storedusername);\r\n\r\n    setMessage(''); // Reset message before making the request\r\n\r\n    axios.post('http://localhost:5000/api/upload', formData)\r\n      .then((response) => {\r\n        console.log('File uploaded successfully:', response.data);\r\n        setMessage('File uploaded successfully!');\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error uploading file:', error);\r\n        setMessage('Error uploading file. Please try again.');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        maxWidth: '500px',\r\n        margin: '20px auto',\r\n        padding: '20px',\r\n        backgroundColor: '#f9f9f9',\r\n        boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\r\n        borderRadius: '8px',\r\n        fontFamily: 'Arial, sans-serif',\r\n      }}\r\n    >\r\n      <h2 style={{ textAlign: 'center', marginBottom: '20px', color: '#333' }}>Upload File</h2>\r\n      <div style={{ marginBottom: '15px' }}>\r\n        <input\r\n          type=\"file\"\r\n          onChange={onFileChange}\r\n          style={{\r\n            width: '100%',\r\n            padding: '10px',\r\n            border: '1px solid #ddd',\r\n            borderRadius: '4px',\r\n          }}\r\n        />\r\n      </div>\r\n      <button\r\n        onClick={onFileUpload}\r\n        style={{\r\n          width: '100%',\r\n          padding: '10px',\r\n          backgroundColor: '#007bff',\r\n          color: '#fff',\r\n          border: 'none',\r\n          borderRadius: '4px',\r\n          cursor: 'pointer',\r\n        }}\r\n      >\r\n        Upload\r\n      </button>\r\n\r\n      {/* Display the message below the button */}\r\n      {message && (\r\n        <div\r\n          style={{\r\n            marginTop: '15px',\r\n            padding: '10px',\r\n            backgroundColor: message.includes('success') ? '#28a745' : '#dc3545',\r\n            color: '#fff',\r\n            borderRadius: '4px',\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          {message}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FileUpload;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}