{"ast":null,"code":"var _jsxFileName = \"/home/sreesachith/record_management_system/storage using ipfs with login/frontend/src/components/FileUpload.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nfunction FileUpload() {\n  const [file, setFile] = useState(null);\n  const [username, setUsername] = useState(''); // Initialize as an empty string\n\n  const onFileChange = e => {\n    setFile(e.target.files[0]);\n  };\n  const onUsernameChange = e => {\n    setUsername(e.target.value); // Use the correct value\n  };\n  const onFileUpload = () => {\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('username', username); // Use the username from state\n\n    axios.post('http://localhost:5000/api/upload', formData).then(response => {\n      console.log('File uploaded successfully:', response.data);\n    }).catch(error => {\n      console.error('Error uploading file:', error);\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, \"Upload File\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter your username\",\n    value: username,\n    onChange: onUsernameChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: onFileChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onFileUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, \"Upload\"));\n}\nexport default FileUpload;","map":{"version":3,"names":["React","useState","axios","FileUpload","file","setFile","username","setUsername","onFileChange","e","target","files","onUsernameChange","value","onFileUpload","formData","FormData","append","post","then","response","console","log","data","catch","error","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","onClick"],"sources":["/home/sreesachith/record_management_system/storage using ipfs with login/frontend/src/components/FileUpload.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction FileUpload() {\r\n  const [file, setFile] = useState(null);\r\n  const [username, setUsername] = useState(''); // Initialize as an empty string\r\n\r\n  const onFileChange = e => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const onUsernameChange = (e) => {\r\n    setUsername(e.target.value); // Use the correct value\r\n  };\r\n\r\n  const onFileUpload = () => {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('username', username); // Use the username from state\r\n\r\n    axios.post('http://localhost:5000/api/upload', formData)\r\n      .then(response => {\r\n        console.log('File uploaded successfully:', response.data);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error uploading file:', error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"upload-form\">\r\n      <h2>Upload File</h2>\r\n      <input type=\"text\" placeholder=\"Enter your username\" value={username} onChange={onUsernameChange} />\r\n      <input type=\"file\" onChange={onFileChange} />\r\n      <button onClick={onFileUpload}>Upload</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FileUpload;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,UAAUA,CAAA,EAAG;EACpB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGJ,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACK,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;;EAE9C,MAAMO,YAAY,GAAGC,CAAC,IAAI;IACxBJ,OAAO,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;EAC5B,CAAC;EAED,MAAMC,gBAAgB,GAAIH,CAAC,IAAK;IAC9BF,WAAW,CAACE,CAAC,CAACC,MAAM,CAACG,KAAK,CAAC,CAAC,CAAC;EAC/B,CAAC;EAED,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEb,IAAI,CAAC;IAC7BW,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEX,QAAQ,CAAC,CAAC,CAAC;;IAEvCJ,KAAK,CAACgB,IAAI,CAAC,kCAAkC,EAAEH,QAAQ,CAAC,CACrDI,IAAI,CAACC,QAAQ,IAAI;MAChBC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEF,QAAQ,CAACG,IAAI,CAAC;IAC3D,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;MACdJ,OAAO,CAACI,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C,CAAC,CAAC;EACN,CAAC;EAED,oBACEzB,KAAA,CAAA0B,aAAA;IAAKC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1BjC,KAAA,CAAA0B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,aAAe,CAAC,eACpBjC,KAAA,CAAA0B,aAAA;IAAOQ,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,qBAAqB;IAACtB,KAAK,EAAEP,QAAS;IAAC8B,QAAQ,EAAExB,gBAAiB;IAAAgB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACpGjC,KAAA,CAAA0B,aAAA;IAAOQ,IAAI,EAAC,MAAM;IAACE,QAAQ,EAAE5B,YAAa;IAAAoB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC7CjC,KAAA,CAAA0B,aAAA;IAAQW,OAAO,EAAEvB,YAAa;IAAAc,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAc,CAC1C,CAAC;AAEV;AAEA,eAAe9B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module"}