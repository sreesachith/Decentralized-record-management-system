{"ast":null,"code":"var _jsxFileName = \"/home/aditi/Downloads/capstone/Decentralized-record-management-system/storage using ipfs with login/frontend/src/components/AdminFileList.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nconst AdminFileList = () => {\n  const [files, setFiles] = useState([]);\n\n  // Fetch all files on component mount\n  useEffect(() => {\n    const fetchFiles = async () => {\n      try {\n        const response = await axios.get('http://localhost:5000/api/admin/files');\n        setFiles(response.data);\n      } catch (error) {\n        console.error('Error fetching files:', error);\n      }\n    };\n    fetchFiles();\n  }, []);\n  const handleDelete = async fileId => {\n    try {\n      console.log(`Deleting file with ID: ${fileId}`); // Debug log\n      const response = await axios.delete(`http://localhost:5000/api/admin/files/${fileId}`);\n      setFiles(files.filter(file => file._id !== fileId)); // Remove the file from the UI\n      console.log(response.data.message); // Log success message\n    } catch (error) {\n      console.error('Error deleting file:', error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '20px',\n      fontFamily: 'Arial, sans-serif',\n      backgroundColor: '#f9f9f9',\n      minHeight: '100vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      textAlign: 'center',\n      marginBottom: '20px',\n      color: '#333'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Admin File List\"), files.length > 0 ? /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      width: '100%',\n      maxWidth: '800px',\n      margin: '0 auto',\n      borderCollapse: 'collapse',\n      backgroundColor: '#fff',\n      border: '1px solid #ddd',\n      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    style: {\n      backgroundColor: '#007bff',\n      color: '#fff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: '10px',\n      border: '1px solid #ddd',\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, \"File Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: '10px',\n      border: '1px solid #ddd',\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, \"Uploaded By\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: '10px',\n      border: '1px solid #ddd',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, files.map(file => /*#__PURE__*/React.createElement(\"tr\", {\n    key: file._id,\n    style: {\n      borderBottom: '1px solid #ddd'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      padding: '10px',\n      border: '1px solid #ddd'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: `https://ipfs.io/ipfs/${file.cid}`,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    style: {\n      color: '#007bff',\n      textDecoration: 'none',\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, file.name)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      padding: '10px',\n      border: '1px solid #ddd'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, file.username), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      padding: '10px',\n      border: '1px solid #ddd',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleDelete(file._id),\n    style: {\n      padding: '5px 10px',\n      backgroundColor: '#dc3545',\n      color: '#fff',\n      border: 'none',\n      borderRadius: '4px',\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 19\n    }\n  }, \"Delete\")))))) : /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: 'center',\n      color: '#777'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, \"No files available.\"));\n};\nexport default AdminFileList;","map":{"version":3,"names":["React","useEffect","useState","axios","AdminFileList","files","setFiles","fetchFiles","response","get","data","error","console","handleDelete","fileId","log","delete","filter","file","_id","message","createElement","style","padding","fontFamily","backgroundColor","minHeight","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","marginBottom","color","length","width","maxWidth","margin","borderCollapse","border","boxShadow","map","key","borderBottom","href","cid","target","rel","textDecoration","fontWeight","name","username","onClick","borderRadius","cursor"],"sources":["/home/aditi/Downloads/capstone/Decentralized-record-management-system/storage using ipfs with login/frontend/src/components/AdminFileList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst AdminFileList = () => {\r\n  const [files, setFiles] = useState([]);\r\n\r\n  // Fetch all files on component mount\r\n  useEffect(() => {\r\n    const fetchFiles = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:5000/api/admin/files');\r\n        setFiles(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching files:', error);\r\n      }\r\n    };\r\n\r\n    fetchFiles();\r\n  }, []);\r\n\r\n  const handleDelete = async (fileId) => {\r\n    try {\r\n      console.log(`Deleting file with ID: ${fileId}`); // Debug log\r\n      const response = await axios.delete(`http://localhost:5000/api/admin/files/${fileId}`);\r\n      setFiles(files.filter((file) => file._id !== fileId)); // Remove the file from the UI\r\n      console.log(response.data.message); // Log success message\r\n    } catch (error) {\r\n      console.error('Error deleting file:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: '20px',\r\n        fontFamily: 'Arial, sans-serif',\r\n        backgroundColor: '#f9f9f9',\r\n        minHeight: '100vh',\r\n      }}\r\n    >\r\n      <h2 style={{ textAlign: 'center', marginBottom: '20px', color: '#333' }}>Admin File List</h2>\r\n      {files.length > 0 ? (\r\n        <table\r\n          style={{\r\n            width: '100%',\r\n            maxWidth: '800px',\r\n            margin: '0 auto',\r\n            borderCollapse: 'collapse',\r\n            backgroundColor: '#fff',\r\n            border: '1px solid #ddd',\r\n            boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\r\n          }}\r\n        >\r\n          <thead>\r\n            <tr style={{ backgroundColor: '#007bff', color: '#fff' }}>\r\n              <th\r\n                style={{\r\n                  padding: '10px',\r\n                  border: '1px solid #ddd',\r\n                  textAlign: 'left',\r\n                }}\r\n              >\r\n                File Name\r\n              </th>\r\n              <th\r\n                style={{\r\n                  padding: '10px',\r\n                  border: '1px solid #ddd',\r\n                  textAlign: 'left',\r\n                }}\r\n              >\r\n                Uploaded By\r\n              </th>\r\n              <th\r\n                style={{\r\n                  padding: '10px',\r\n                  border: '1px solid #ddd',\r\n                  textAlign: 'center',\r\n                }}\r\n              >\r\n                Actions\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {files.map((file) => (\r\n              <tr key={file._id} style={{ borderBottom: '1px solid #ddd' }}>\r\n                <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                  <a\r\n                    href={`https://ipfs.io/ipfs/${file.cid}`}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    style={{\r\n                      color: '#007bff',\r\n                      textDecoration: 'none',\r\n                      fontWeight: 'bold',\r\n                    }}\r\n                  >\r\n                    {file.name}\r\n                  </a>\r\n                </td>\r\n                <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                  {file.username}\r\n                </td>\r\n                <td\r\n                  style={{\r\n                    padding: '10px',\r\n                    border: '1px solid #ddd',\r\n                    textAlign: 'center',\r\n                  }}\r\n                >\r\n                  <button\r\n                    onClick={() => handleDelete(file._id)}\r\n                    style={{\r\n                      padding: '5px 10px',\r\n                      backgroundColor: '#dc3545',\r\n                      color: '#fff',\r\n                      border: 'none',\r\n                      borderRadius: '4px',\r\n                      cursor: 'pointer',\r\n                    }}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      ) : (\r\n        <p style={{ textAlign: 'center', color: '#777' }}>No files available.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminFileList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}